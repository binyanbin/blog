<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> C语言之由内存模型说起 · 码工严彬 coding不仅仅是工作</title><meta name="description" content="内存模型 内存管理 指针 字符串"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/2015/12/20/self-introduce/" target="_self" class="nav-list-link">WECHAT</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">C语言之由内存模型说起</h1><div class="post-meta"><div class="post-time">2016年3月25日</div></div><div class="post-content"><p>说起内存模型，那就先要介绍程序运行时是如何管理内存的。<br>程序运行时:</p>
<ul>
<li>系统先把物理硬盘代码load到内存</li>
<li>系统再把c代码分成四个区</li>
<li>系统再找到main函数入口执行<h2 id="程序的四区模型"><a href="#程序的四区模型" class="headerlink" title="程序的四区模型"></a>程序的四区模型</h2><img src="/img/c-3.png" alt="效果"><a id="more"></a>
一个由C编译的程序的内存分配通常由以下几块组成:<br>1 栈区(stack)由编译器自动分配释放,存放函数的参数值,局部变量的值等。其操作方式类似于数据结构中的栈。<br>2 堆区(heap):一般由程序员分配释放， 若程序员不释放，程序结束时可能由OS回收。注意它与数据结构中的堆是两回事，分配方式倒是类似于链表。<br>3 全局区：主要包括静态全局区和常量区，程序结束后由系统释放。<br>静态区(static):全局变量和静态变量的存储是放在一块的，初始化的全局变量和静态变量在一块区域,未初始化的全局变量和未初始化的静态变量在相邻的另一块区域。<br>常量区:常量字符串就是放在这里的。<br>4 代码区：存放函数体的二进制代码。<br>示例:<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">char</span>*<span class="title">fa</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span>*pa = <span class="string">"123456"</span>;<span class="comment">//pa指针在栈区，“123456”在常量区，该函数调用完后指针变量pa就被释放了</span></span><br><span class="line">    <span class="keyword">char</span>*p = <span class="literal">NULL</span>;<span class="comment">//指针变量p在栈中分配4字节</span></span><br><span class="line">    p=(<span class="keyword">char</span>*)<span class="built_in">malloc</span>(<span class="number">100</span>);<span class="comment">//本函数在这里开辟了一块堆区的内存空间，并把地址赋值给p</span></span><br><span class="line">    <span class="built_in">strcpy</span>(p, <span class="string">"wudunxiong 1234566"</span>);<span class="comment">//把常量区的字符串拷贝到堆区</span></span><br><span class="line">    <span class="keyword">return</span> p;<span class="comment">//返回给主调函数fb()，相对fa来说fb是主调函数，相对main来说，fa(),fb()都是被调用函数</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>由此可以得知，当一个程序运行时，他的全局区，代码区基本是固定不变的，堆区与全局区和代码区均由系统控制。开发人员需对堆区内存进行管理。在现代开发语言(java,c#,javascript等)里,堆区内存管理都是由垃圾回收器处理的。</p>
<h2 id="内存管理基础-指针"><a href="#内存管理基础-指针" class="headerlink" title="内存管理基础:指针"></a>内存管理基础:指针</h2><p>指针是一个变量,其值为另一个变量的地址,即内存位置的直接地址。就像其他变量或常量一样,您必须在使用指针存储其他变量地址之前,对其进行声明。指针变量声明的一般形式为：type *var-name;<br>示例如下:<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">   <span class="keyword">int</span>  var = <span class="number">20</span>;   <span class="comment">/* 实际变量的声明 */</span></span><br><span class="line">   <span class="keyword">int</span>  *ip;        <span class="comment">/* 指针变量的声明 */</span></span><br><span class="line">   ip = &amp;var;  <span class="comment">/* 在指针变量中存储 var 的地址 */</span></span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">"Address of var variable: %x\n"</span>, &amp;var  );</span><br><span class="line">   <span class="comment">/* 在指针变量中存储的地址 */</span></span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">"Address stored in ip variable: %x\n"</span>, ip );</span><br><span class="line">   <span class="comment">/* 使用指针访问值 */</span></span><br><span class="line">   <span class="built_in">printf</span>(<span class="string">"Value of *ip variable: %d\n"</span>, *ip );</span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><p>在C语言中,字符串实际上是使用null字符 ‘\0’ 终止的一维字符数组.因此,一个以null尾的字符串,包含了组成字符串的字符.<br>下面的声明和初始化创建了一个”Hello”字符串.由于在数组的末尾存储了空字符,所以字符数组的大小比单词”Hello”的字符数多一个。<br><img src="/img/c-4.jpg" alt="效果"></p>
<p>c语言标准库没有常用的字符串方法，如indexOf,lastIndexOf,trim,lTrim,rTrim等方法。如是我就自己尝试实现，中间用了几个标准库函数:strcpy字符串拷贝，strcat字符串连接，这个方法不能直接用，C中的字符串内存不是自动扩展需要自己申请,strcat是把第二个字符串copy到第一个字符串结尾，需要第一个字符串分配的内存足够多，不然无法连接。strstr查找相同的字符串，返回的又是地址。整个代码全是内存操作，自已申请的内存一定要记得释放，对于用惯了现代语言的人来说，这真是相当虐心啊。<br><img src="/img/c-5.jpg" alt="效果"><br>还是看代码吧<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span> </span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="comment">///方法定义</span></span><br><span class="line">    <span class="function"><span class="keyword">char</span>* <span class="title">join</span><span class="params">(<span class="keyword">char</span>  *s1,<span class="keyword">char</span> *s2)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">indexOf</span><span class="params">(<span class="keyword">char</span> *str1,<span class="keyword">char</span> *str2)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">lastIndexOf</span><span class="params">(<span class="keyword">char</span> *str1,<span class="keyword">char</span> *str2)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">char</span>* <span class="title">ltrim</span><span class="params">(<span class="keyword">char</span> *str)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">char</span>* <span class="title">rtrim</span><span class="params">(<span class="keyword">char</span> *str)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">char</span>* <span class="title">trim</span><span class="params">(<span class="keyword">char</span> *str)</span></span>;</span><br><span class="line">    <span class="comment">//测试数据准备</span></span><br><span class="line">    <span class="keyword">char</span> *first;</span><br><span class="line">    <span class="keyword">char</span> *second;</span><br><span class="line">    <span class="keyword">char</span> *indexstr;</span><br><span class="line">    <span class="keyword">char</span> *third;</span><br><span class="line">    <span class="keyword">char</span> *show;</span><br><span class="line">    first = <span class="string">"binyanbin website is "</span>;</span><br><span class="line">    second = <span class="string">"http://binyanbin.github.io"</span>;</span><br><span class="line">    indexstr = <span class="string">"bin"</span>;</span><br><span class="line">    third = <span class="string">"  binyanbin trim test "</span>;</span><br><span class="line">    <span class="comment">//测试结果输出</span></span><br><span class="line">    show = join(first,second);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"join(\"%s\",\"%s\")=\"%s\"\n"</span>,first,second,show);</span><br><span class="line">    <span class="built_in">free</span>(show);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"indexOf(\"%s\",\"%s\")=%d\n"</span>,second,indexstr,indexOf(second,indexstr));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"lastIndexOf(\"%s\",\"%s\")=%d\n"</span>,second,indexstr,lastIndexOf(second,indexstr));</span><br><span class="line">    show = ltrim(third);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"ltrim(\"%s\")=\"%s\"\n"</span>,third,show);</span><br><span class="line">    <span class="built_in">free</span>(show);</span><br><span class="line">    show = rtrim(third);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"rtrim(\"%s\")=\"%s\"\n"</span>,third,show);</span><br><span class="line">    show = trim(third);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"trim(\"%s\")=\"%s\""</span>,third,show);</span><br><span class="line">    <span class="built_in">free</span>(show);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//字符串连接</span></span><br><span class="line"><span class="function"><span class="keyword">char</span>* <span class="title">join</span><span class="params">(<span class="keyword">char</span>  *s1,<span class="keyword">char</span> *s2)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="comment">//分布内存</span></span><br><span class="line">    <span class="keyword">char</span> *result = <span class="built_in">malloc</span>(<span class="built_in">strlen</span>(s1)+<span class="built_in">strlen</span>(s2)+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span> (result==<span class="literal">NULL</span>) </span><br><span class="line">        <span class="built_in">exit</span>(<span class="number">0</span>);<span class="comment">//内存为空退出</span></span><br><span class="line">    <span class="comment">//拷贝s1到result</span></span><br><span class="line">    <span class="built_in">strcpy</span>(result, s1);</span><br><span class="line">    <span class="comment">//s2加到result尾部  </span></span><br><span class="line">    <span class="built_in">strcat</span>(result, s2);  </span><br><span class="line">    <span class="keyword">return</span> result;  </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//字符串查询最开始位置</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">indexOf</span><span class="params">(<span class="keyword">char</span> *str1,<span class="keyword">char</span> *str2)</span>  </span><br><span class="line"></span>&#123;  </span><br><span class="line">    <span class="keyword">char</span> *p=str1;  </span><br><span class="line">    <span class="keyword">int</span> i=<span class="number">0</span>;  </span><br><span class="line">    <span class="comment">//p是一个地址，找到相同字符串的地址</span></span><br><span class="line">    p=<span class="built_in">strstr</span>(str1,str2);  </span><br><span class="line">    <span class="keyword">if</span>(p==<span class="literal">NULL</span>)  </span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;  </span><br><span class="line">    <span class="keyword">else</span>&#123;  </span><br><span class="line">        <span class="comment">//是不是同一个地址了，是同一地址则找到字符串</span></span><br><span class="line">        <span class="keyword">while</span>(str1!=p)</span><br><span class="line">        &#123;  </span><br><span class="line">            str1++;  </span><br><span class="line">            i++;  </span><br><span class="line">        &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">return</span> i;  </span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="comment">//查询最后位置</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">lastIndexOf</span><span class="params">(<span class="keyword">char</span> *str1,<span class="keyword">char</span> *str2)</span>  </span><br><span class="line"></span>&#123;  </span><br><span class="line">    <span class="keyword">char</span> *p=str1;  </span><br><span class="line">    <span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> len=<span class="built_in">strlen</span>(str2);  </span><br><span class="line">    p=<span class="built_in">strstr</span>(str1,str2);  </span><br><span class="line">    <span class="keyword">if</span>(p==<span class="literal">NULL</span>)<span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="comment">//未找到字符串地址为空则跳出循环  </span></span><br><span class="line">    <span class="keyword">while</span>(p!=<span class="literal">NULL</span>)  </span><br><span class="line">    &#123; </span><br><span class="line">        <span class="comment">//跳过已找的地址 </span></span><br><span class="line">        <span class="keyword">for</span>(;str1!=p;str1++)</span><br><span class="line">            i++;  </span><br><span class="line">        p=p+len;</span><br><span class="line">        <span class="comment">//找出下一个同样字符串的地址  </span></span><br><span class="line">        p=<span class="built_in">strstr</span>(p,str2);  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">return</span> i;  </span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="comment">//删除左空格 </span></span><br><span class="line"><span class="function"><span class="keyword">char</span>* <span class="title">ltrim</span><span class="params">(<span class="keyword">char</span> *param)</span>  </span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="comment">//申请存储，不修改参数内存的数据</span></span><br><span class="line">    <span class="keyword">char</span> *str = <span class="built_in">malloc</span>(<span class="built_in">strlen</span>(param)+<span class="number">1</span>); </span><br><span class="line">    <span class="built_in">strcpy</span>(str, param); </span><br><span class="line">    <span class="keyword">int</span> i=<span class="number">0</span>,j,len=<span class="built_in">strlen</span>(str);  </span><br><span class="line">    <span class="keyword">while</span>(str[i]!=<span class="string">'\0'</span>)  </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//32:空格,9:横向制表符</span></span><br><span class="line">        <span class="keyword">if</span>(str[i]!=<span class="number">32</span>&amp;&amp;str[i]!=<span class="number">9</span>)</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        i++;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">if</span>(i!=<span class="number">0</span>)  </span><br><span class="line">    <span class="comment">//将后面的字符顺势前移,补充删掉的空白位置</span></span><br><span class="line">    <span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;=len-i;j++)  </span><br><span class="line">    &#123;     </span><br><span class="line">        str[j]=str[j+i];</span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">return</span> str; </span><br><span class="line">&#125;  </span><br><span class="line"><span class="comment">//删除右空格</span></span><br><span class="line"><span class="function"><span class="keyword">char</span>* <span class="title">rtrim</span><span class="params">(<span class="keyword">char</span> *param)</span>  </span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> *str = <span class="built_in">malloc</span>(<span class="built_in">strlen</span>(param)+<span class="number">1</span>);    </span><br><span class="line">    <span class="built_in">strcpy</span>(str, param); </span><br><span class="line">    <span class="keyword">char</span> *p=str;  </span><br><span class="line">    <span class="keyword">int</span> i=<span class="built_in">strlen</span>(str)<span class="number">-1</span>;  </span><br><span class="line">    <span class="keyword">while</span>(i&gt;=<span class="number">0</span>)  </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="keyword">if</span>(p[i]!=<span class="number">32</span>&amp;&amp;p[i]!=<span class="number">9</span>)</span><br><span class="line">            <span class="keyword">break</span>;  </span><br><span class="line">        i--;  </span><br><span class="line">    &#125;  </span><br><span class="line">    str[++i]=<span class="string">'\0'</span>;</span><br><span class="line">    <span class="keyword">return</span> str;  </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//删除左右空格</span></span><br><span class="line"><span class="function"><span class="keyword">char</span>* <span class="title">trim</span><span class="params">(<span class="keyword">char</span> *str)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span>* temp = ltrim(str);</span><br><span class="line">    <span class="keyword">char</span>* result = rtrim(temp);</span><br><span class="line">    <span class="built_in">free</span>(temp);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
</div></article></div><div data-thread-key="2016/03/25/c-3/" data-title="C语言之由内存模型说起" data-url="http://binyanbin.github.io/2016/03/25/c-3/" class="ds-share flat"><div class="ds-share-inline"><div class="ds-share-icons-16"><li data-toggle="ds-share-icons-more"><a href="javascript:void(0)" class="ds-more">分享到:</a></li><li><a href="javascript:void(0);" data-service="weibo" class="ds-weibo">微博</a></li><li><a href="javascript:void(0);" data-service="qzone" class="ds-qzone">QQ空间</a></li><li><a href="javascript:void(0);" data-service="qqt" class="ds-qqt">QQ微博</a></li><li><a href="javascript:void(0);" data-service="wechat" class="ds-wechat">微信</a></li><div class="ds-share-icons-more"></div></div></div></div></section><footer><div class="paginator"><a href="/2016/03/31/c-4/" class="prev">上一篇</a><a href="/2016/03/24/c-2/" class="next">下一篇</a></div><div data-thread-key="2016/03/25/c-3/" data-title="C语言之由内存模型说起" data-url="http://binyanbin.github.io/2016/03/25/c-3/" data-author-key="1" class="ds-thread"></div><script>var duoshuoQuery = {short_name:"binyanbin"};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
     || document.getElementsByTagName('body')[0]).appendChild(ds);
})();

</script><div class="copyright"><p>© 2016 <a href="http://binyanbin.github.io">严彬</a>, unless otherwise noted.</p></div></footer><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "//hm.baidu.com/hm.js?fcf7e8f303b6e03be86f5619636d0f7e";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script src="https://cdn.bootcss.com/mathjax/2.5.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></body></html>